<!DOCTYPE html>
<html>

<head>
<meta charset="utf-8" />
<title>Nutrition Tracker</title>

<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.17.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.17.2/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.17.2/firebase-firestore-compat.js"></script>

<!-- Chart.js and DataLabels plugin -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
<link rel="stylesheet" href="styles.css">

</head>

<body class="dark-mode">
<button id="themeToggleBtn">Toggle Light Mode</button>

<div id="login-container">
<h2>Sign In / Create Account</h2>
<input id="email" type="text" placeholder="Email" />
<input id="password" type="password" placeholder="Password" />
<button id="login-btn">Sign In / Create</button>
</div>

<div id="app" class="hidden">
<button id="logout-btn">Logout</button>

<!-- Two main sections: Existing Entries + Trends, side by side -->
<div class="main-flex">
<!-- Existing Entries Section -->
<div class="section-block">
<h2>Existing Entries</h2>
<button id="openNutrientModalBtn">Add New Day</button>
<button id="exportCSVBtn">Export CSV</button>
<table id="nutrientTable">
<thead>
<tr>
<th data-sortcol="date">Date</th>
<th data-sortcol="calories">Calories Consumed</th>
<th data-sortcol="caloriesBurned">Calories Burned</th>
<th data-sortcol="deficit">Calorie Deficit</th>
<th data-sortcol="carbs">Carbs</th>
<th data-sortcol="sugar">Sugar</th>
<th data-sortcol="protein">Protein</th>
<th data-sortcol="fiber">Fiber</th>
<th data-sortcol="fat">Fat</th>
<th data-sortcol="sodium">Sodium</th>
<th>Edit</th>
</tr>
</thead>
<tbody></tbody>
</table>
</div>

<!-- Trends Section -->
<div class="section-block">
<div id="averagesSection"></div>
</div>
</div>

<!-- Daily Chart Section -->
<div class="section-block daily-charts-section">
<h2>Daily Macro Pie Charts</h2>
<div id="dailyChartsContainer"></div>
</div>
</div>

<!-- Nutrient Modal (Add/Edit daily nutrients) -->
<div id="nutrientModalBackdrop">
<div id="nutrientModal">
<h3>Add / Edit Daily Nutrients</h3>
<input id="dateInput" type="date" /><br />

<input id="caloriesInput" type="number" placeholder="Calories Consumed" />
<span id="caloriesIndicator" class="live-label"></span><br />

<input id="burnedInput" type="number" placeholder="Calories Burned (if blank => 2000)" />
<span id="burnedIndicator" class="live-label"></span><br />

<input id="carbsInput" type="number" placeholder="Carbs (g)" />
<span id="carbsIndicator" class="live-label"></span><br />

<input id="sugarInput" type="number" placeholder="Added Sugar (g)" />
<span id="sugarIndicator" class="live-label"></span><br />

<input id="proteinInput" type="number" placeholder="Protein (g)" />
<span id="proteinIndicator" class="live-label"></span><br />

<input id="fiberInput" type="number" placeholder="Fiber (g)" />
<span id="fiberIndicator" class="live-label"></span><br />

<input id="fatInput" type="number" placeholder="Fat (g)" />
<span id="fatIndicator" class="live-label"></span><br />

<input id="sodiumInput" type="number" placeholder="Sodium (mg)" />
<span id="sodiumIndicator" class="live-label"></span><br />

<button id="save-btn">Save Day</button>
<button id="closeNutrientModalBtn">Close</button>
</div>
</div>

<!-- Target Modal -->
<div id="targetModalBackdrop">
<div id="targetModal">
<h3>Update Target Goals</h3>
<table id="targetTable"></table>
<button id="saveTargetsBtn">Save Targets</button>
<button id="closeModalBtn">Close</button>
</div>
</div>
<script src="app.js"></script>
</body>

</html>
